"use strict";window.CryptoCurrencyTable=function(a,b,c,d,e,f){function g(){v.find("li:not(.groupLI)").on("click",function(){var a=$(this).attr("currencysymbol");x.id=$(this).data("value"),m("Currency Converter",$(this).attr("shortname")),z=x.symbol,$.ajax({type:"POST",data:{currency_id:x.id,currency_changed:!0,user_filters:window.DataTableFilter?JSON.stringify(window.DataTableFilter.getFilterStates()):"{}"},dataType:"json",url:"/crypto/service/cryptoFilters",success:function(b){x.conversionRate=b.price,x.symbol=a,A=b.pair_id,window.socketConnector.tick.unSubscribeNewDataRemodeled("crypto-currencies-pid","pid"),A&&window.socketConnector.tick.subscribe([A],"crypto-currencies-pid","pid").then(function(a){x.conversionRate=a.last_numeric}),D.ajax.reload(),l(b.price_name)}})})}function h(){var a=t.val();if(B||a.length<p&&0!==a.length)return void(C=a);a===C?(B=!0,D.search(a).draw()):setTimeout(h,u),C=a}function i(){$.ajax({type:"POST",data:{user_filters:JSON.stringify(window.DataTableFilter.getFilterStates()),currency_id:x.id,currency_changed:!1},dataType:"json",url:"/crypto/service/cryptoFilters",success:$.noop})}function j(a){var b=D.column(a);if(b&&b.header())return $(b.header())}function k(a){return j(a).attr("title")}function l(a){r.find("th.js-price-header > .js-price-header-span").text(a)}function m(a,b){window.ga&&window.ga("allSitesTracker.send","event","Tables - Crypto",a,b)}function n(a,b){r.find("thead th").each(function(){$(this).find(".newSiteIconsSprite").attr("class","headerSortDefault newSiteIconsSprite")});var c="asc"===b?"headerSortDown":"headerSortUp";j(a).find(".newSiteIconsSprite").attr("class",c+" newSiteIconsSprite")}var o=$(window),p=2,q=[4,5,6,7,8,9],r=$(a),s=$(".cryptocurrency-table-loader"),t=$(".js-crypto-search-filter"),u=500,v=$(".js-currencies-dropdown"),w=window.siteData.defaultDomainCurrData,x={conversionRate:w.price,symbol:"$",id:12},y={},z=x.symbol,A=void 0,B=!1,C="",D=r.DataTable({paging:!0,pageLength:b,lengthChange:!1,processing:!1,ordering:!0,order:[[0,"asc"]],info:!1,searching:!0,dom:"lrtip",serverSide:!0,ajax:{url:"/crypto/Service/LoadCryptoCurrencies",type:"POST",data:function(a){if(a.order)for(var b in a.order){var c=a.order[b].column;a.columns[c]&&(a.order[b].column=a.columns[c].name)}x.id&&(a.currencyId=x.id)}},drawCallback:function(a){if(a.json&&a.json.extremes){var b=a.json.extremes;y={4:[parseFloat(b.min_price_usd),parseFloat(b.max_price_usd)],5:[parseFloat(b.min_market_cap_usd),parseFloat(b.max_market_cap_usd)],6:[parseFloat(b.min_24h_volume_usd),parseFloat(b.max_24h_volume_usd)],7:[parseFloat(b.min_total_volume),parseFloat(b.max_total_volume)],8:[parseFloat(b.min_change_percent),parseFloat(b.max_change_percent)],9:[parseFloat(b.min_percent_change_7d),parseFloat(b.max_percent_change_7d)]}}a.json&&a.json.cssCryptoType;var g=r.parent().find(".dataTables_paginate").first();g.length>0?g.attr({id:"paginationWrap",class:"arial_12 js-pagination-wrapper"}):g=$("#paginationWrap");var h=g.find(".paginate_button.previous").first(),i=g.find(".paginate_button.next").first();h.wrap('<div class="sideDiv inlineblock text_align_lang_base_1"></div>').html('<span class="'+c+'"></span> '+e).attr("class","pagination"),i.wrap('<div class="sideDiv inlineblock text_align_lang_base_2"></div>').html(f+' <span class="'+d+'"></span>').attr("class","pagination");var j=g.find("> span").first();j.addClass("midDiv inlineblock");var k=j.find("a.current").first();j.find("a").attr("class","pagination"),k.addClass("selected")},createdRow:function(a,b,c){a=$(a),b.sponsoredClass&&a.addClass(b.sponsoredClass),b.related_pair_ID&&a.attr("i",b.related_pair_ID)},initComplete:function(){var a=this.api();a.columns().eq(0).each(function(b){$.inArray(parseInt(b),q)<0||new DataTableFilter(a,r,b,y,i)})},columns:[{name:"currencies_order",data:"currencies_order",createdCell:function(a,b,c,d,e){$(a).addClass("rank icon")}},{name:"crypto_id",data:function(a){return'<i class="cryptoIcon c_'+a.crypto_id+' middle"></i>'},createdCell:function(a,b,c,d,e){$(a).addClass("flag"),c.tooltip&&$(a).attr("data-tooltip",c.tooltip)},orderable:!1},{name:"name",data:function(a){return a.link_href?'<a href="'+a.link_href+'">'+a.name_trans+"</a>":"<span>"+a.name+"</span>"},createdCell:function(a,b,c,d,e){$(a).addClass("left bold elp name cryptoName first js-currency-name"),$(a).attr("title",c.name)}},{name:"symbol",data:"symbol",createdCell:function(a,b,c,d,e){$(a).addClass("left noWrap elp symb js-currency-symbol"),$(a).attr("title",c.symbol)}},{name:"price_usd",data:function(a){return a.priceHref?'<a class="'+a.classPriceUsd+'" href="'+a.priceHref+'">'+a.price+"</a>":"<span>"+a.price+"</span>"},createdCell:function(a,b,c,d,e){$(a).addClass("price js-currency-price"),$(a).attr("title",c.symbol)}},{name:"market_cap_usd",data:"market_cap_formatted",createdCell:function(a,b,c,d,e){$(a).addClass("js-market-cap"),$(a).attr("data-value",c.market_cap_usd)}},{name:"24h_volume_usd",data:"24h_volume_formatted",createdCell:function(a,b,c,d,e){$(a).addClass("js-24h-volume"),$(a).attr("data-value",c["24h_volume_usd"])}},{name:"total_volume",data:"total_volume",createdCell:function(a,b,c,d,e){$(a).addClass("js-total-vol")}},{name:"change_percent",data:"change_percent_formatted",createdCell:function(a,b,c,d,e){$(a).addClass("js-currency-change-24h"),c.pairChangeFontColor&&$(a).addClass(c.pairChangeFontColor),c.class1Dchg&&$(a).addClass(c.class1Dchg)}},{name:"percent_change_7d",data:"percent_change_7d_formatted",createdCell:function(a,b,c,d,e){$(a).addClass("js-currency-change-7d"),$(a).addClass(c.percent_change_7d>0?"greenFont":"redFont")}}]});$(document).on("preXhr.dt",function(a,b){s.removeClass("displayNone")}),$(document).on("xhr.dt",function(a,b){B=!1,s.addClass("displayNone")}),$(document).on("draw.dt",function(a,b){var c=[];r.find("tbody tr").each(function(){var a=parseInt($(this).attr("i"));$(this).removeAttr("i"),a&&c.push(a)}),o.trigger("cryptoCurrenciesLazyLoaded"),socketConnector.tick.subscribe(c,"crypto-currencies")}),t.on("keyup",h),t.on("keyup",$.debounce(function(){m("Search",t.val())},3e3)),r.on("order.dt",function(){var a=D.order();if(void 0!==a[0]&&void 0!==a[0][0]&&void 0!==a[0][1]){var b=a[0][0];n(b,a[0][1]),m("Sort","Sort By "+k(b))}}),$(window).on("filterApplied",function(a,b){m("Filter","Filter By "+r.find("th").eq(b).attr("title"))}),1!==w.price&&window.socketConnector.tick.subscribe([w.pair_id],"crypto-currencies-pid","pid").then(function(a){x.conversionRate=a.last_numeric}),l(w.price_name),new DropdownSelector(".js-currencies-dropdown-container",null,10,!0,$(".js-currencies-dropdown-container").data("placeholder")),v.find("li.selected").click(),g()};/**|**/
"use strict";!function(){var a=$(".js-table-filter-container").detach(),b=$(".js-filter-popup").detach(),c=$(".js-crypto-search-filter"),d=$(window),e=window.siteData.decimalPoint,f=new RegExp("\\"+window.siteData.thousandSep,"g"),g={T:12,B:9,M:6,K:3},h=window.siteData.defaultDomainCurrData,i={numeric:function(a){return Number(a.replace(f,"").replace(e,"."))},percentage:function(a){return i.bigNumber(a.replace(/[\%\s\+]+/g,""))},bigNumber:function(a){var b=(a||"0").replace(new RegExp("["+p+o+$.htmlDecode(h.currency_symbol)+"]+","g"),"").replace(f,"").replace(e,".").trim(),c=/^(\-)?(\d+(\.\d*)?)([BMKT])?\+?$/.exec(b),d=c[1],i=c[2],j=c[4],k=i;return j&&(k*=Math.pow(10,g[j])),d&&(k*=-1),+k}},j={4:i.numeric,5:i.bigNumber,6:i.bigNumber,7:i.percentage,8:i.percentage,9:i.percentage},k=window.cryptoFilters||{},l={},m=void 0,n=-1,o="$",p=o;window.DataTableFilter=function(e,f,g,h,i){function o(){var b=void 0;b=a.clone(),b.on("click",$.stopProp),l[g]=b.find(".js-filter-icon"),l[g].on("click",function(){r(g)}),k[g]&&b.find(".js-filter-icon").addClass("active"),A.eq(g).append(b.show())}function p(a,b){delete k[b],delete E[b],s(b,h[b][0],h[b][1],!0,a)}function q(){l[n]&&l[n].removeClass("hover"),m&&m.remove(),n=-1}function r(a){if(n!==a){q(),m=b.clone();var c=h[a][0],d=h[a][1],e=!!k[a],f=c,g=d;e&&(f=k[a][0],g=k[a][1]),n=a,m.find(".js-clear-button").on("click",function(){p(!0,n)}),y(c,d,x(a,c,d)),z(),D.setSliderValues(c,d,f,g),m.find(".js-filter-header").text($(A.eq(a)).attr("title")),l[a].after(m._show()).addClass("hover")}}function s(a,b,f,g,h){A.eq(a).find(".js-filter-icon").toggleClass("active",!g),h||(k[a]=[b,f]);for(var i in k)e.column(i).search(k[i]);e.search(c.val()).draw(),d.trigger("filterApplied",a),C(),h&&q()}function t(){d.off("removeRangeFilterWidget").on("removeRangeFilterWidget",function(){p(!1,n)}),$(document).click(function(a){!$(a.target).closest(".tableFilterPopup").length&&$(".tableFilterPopup").is(":visible")&&q()})}function u(a,b){return a-b}function v(a){return a.filter(function(a,b,c){return!~c.indexOf(a,b+1)})}function w(a,b,c){for(var d=Math.min(a.length,100),e=100/d,f=a.length/d,g={min:b,max:c},h=1;h<d;h++)g[h*e+"%"]=a[Math.floor(f*h)];return g}function x(a,b,c){if(!E[a]){var d=[],e=void 0,g=void 0;f.find("tbody tr").filter(":visible").each(function(b,c){d.push(j[a]($(c).find("TD").eq(a).text()))}),d.sort(u),e=v(d),g=w(e,b,c),E[a]=g}return E[a]}function y(a,b,c){D=window.initRangeFilter(a,b,m.find(".js-crypto-range-filter"),"crypto",wNumb({}),c)}function z(){D&&D.onEvent("slide",function(a,b,c){h[n][0]===c[0]&&h[n][1]===c[1]||B(n,c[0],c[1])})}var A=f.find("thead th"),B=$.debounce(s,250),C=$.debounce(i,2e3),D=void 0,E={};o(),t()},window.DataTableFilter.getFilterStates=function(){return k}}();/**|**/